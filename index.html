<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>PokeCore Name Lookup</title>
  </head>
  <body>
    <h1>PokeCore Name Lookup</h1>
    <form>
      <br><br>
      <label for="searchRow">Enter the PNG number from the image in discord:</label><BR>
      <input type="number" id="searchRow">
      <button type="button" onclick="search()">Search</button>
    </form>
	    <h2>NAME: </h2><h2 id="result"></h2>
    <BR>
	<img id="imgOut" src=""></img>
    <script>
function search() {

  // Get the user input
  var searchRow = parseInt(document.getElementById("searchRow").value);
  
    // Update Image
  document.getElementById("imgOut").src = "https://images.pokecord.xyz/regular/" + searchRow + ".png";

  // Define the CSV file path
  var csvFilePath = "data.csv";

  // Fetch the file contents as a Blob
  fetch(csvFilePath)
    .then(response => response.blob())
    .then(blob => {
      // Create a FileReader object
      var reader = new FileReader();
      reader.onload = function(event) {
        var contents = event.target.result;
        var lines = contents.split("\n");

        // Get the value from column A in the specified row
        if (searchRow <= lines.length) {
          var cols = lines[searchRow - 1].split(",");
          document.getElementById("result").innerHTML = cols[0];
        } else {
          document.getElementById("result").innerHTML = "Row not found";
        }
      };
      reader.readAsText(blob);
    })
    .catch(error => console.error(error));
}
    </script>
<BR><BR><BR><BR>V1.5<BR>Made for my beautiful wife Stasia.
  </body>
</html>
