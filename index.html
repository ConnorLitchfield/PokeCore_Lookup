<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>PokeCore Name Lookup</title>
  </head>
  <body>
    <h1>PNG Number Search</h1>
    <form>
      <input type="file" id="csvFile"> 
      <br><br>
      <label for="searchRow">Enter the PNG number from the image in discord:</label><BR>
      <input type="number" id="searchRow">
      <button type="button" onclick="search()">Search</button>
    </form>
    <p id="result"></p>
    
    <script>
function search() {
  // Get the user input
  var searchRow = parseInt(document.getElementById("searchRow").value);

  // Define the CSV file path
  var csvFilePath = "data.csv";

  // Fetch the file contents as a Blob
  fetch(csvFilePath)
    .then(response => response.blob())
    .then(blob => {
      // Create a FileReader object
      var reader = new FileReader();
      reader.onload = function(event) {
        var contents = event.target.result;
        var lines = contents.split("\n");

        // Get the value from column A in the specified row
        if (searchRow <= lines.length) {
          var cols = lines[searchRow - 1].split(",");
          document.getElementById("result").innerHTML = cols[0];
        } else {
          document.getElementById("result").innerHTML = "Row not found";
        }
      };
      reader.readAsText(blob);
    })
    .catch(error => console.error(error));
}
    </script>
  </body>
</html>
